---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "kion_project_cloud_access_role Data Source - terraform-provider-kion"
subcategory: ""
description: |-
  
---

# kion_project_cloud_access_role (Data Source)



## Example Usage

```terraform
# Basic example - Look up a project cloud access role by ID
data "kion_project_cloud_access_role" "example" {
  id = "1"
}

# Output the retrieved cloud access role information
output "project_car_name" {
  value = data.kion_project_cloud_access_role.example.name
}

output "project_car_project_id" {
  value = data.kion_project_cloud_access_role.example.project_id
}

output "project_car_applies_to_all" {
  value = data.kion_project_cloud_access_role.example.apply_to_all_accounts
}

# Example using the data source to create a similar role in another project
resource "kion_project_cloud_access_role" "copy_role" {
  name                   = "Copy of ${data.kion_project_cloud_access_role.example.name}"
  project_id             = 2  # Different project
  aws_iam_role_name      = data.kion_project_cloud_access_role.example.aws_iam_role_name
  aws_iam_path           = data.kion_project_cloud_access_role.example.aws_iam_path
  web_access             = data.kion_project_cloud_access_role.example.web_access
  short_term_access_keys = data.kion_project_cloud_access_role.example.short_term_access_keys
  long_term_access_keys  = data.kion_project_cloud_access_role.example.long_term_access_keys
  apply_to_all_accounts  = data.kion_project_cloud_access_role.example.apply_to_all_accounts
  future_accounts        = data.kion_project_cloud_access_role.example.future_accounts
  
  # Copy the same AWS IAM policies
  dynamic "aws_iam_policies" {
    for_each = data.kion_project_cloud_access_role.example.aws_iam_policies
    content {
      id = aws_iam_policies.value.id
    }
  }
  
  # Copy the same user groups
  dynamic "user_groups" {
    for_each = data.kion_project_cloud_access_role.example.user_groups
    content {
      id = user_groups.value.id
    }
  }
}

# Look up an AWS-focused project cloud access role
data "kion_project_cloud_access_role" "aws_admin" {
  id = "10"
}

# Output detailed AWS information
output "aws_project_role_details" {
  value = {
    name                    = data.kion_project_cloud_access_role.aws_admin.name
    project_id              = data.kion_project_cloud_access_role.aws_admin.project_id
    aws_iam_role_name       = data.kion_project_cloud_access_role.aws_admin.aws_iam_role_name
    aws_iam_path            = data.kion_project_cloud_access_role.aws_admin.aws_iam_path
    apply_to_all_accounts   = data.kion_project_cloud_access_role.aws_admin.apply_to_all_accounts
    future_accounts         = data.kion_project_cloud_access_role.aws_admin.future_accounts
    web_access              = data.kion_project_cloud_access_role.aws_admin.web_access
    short_term_access_keys  = data.kion_project_cloud_access_role.aws_admin.short_term_access_keys
    long_term_access_keys   = data.kion_project_cloud_access_role.aws_admin.long_term_access_keys
    account_count           = length(data.kion_project_cloud_access_role.aws_admin.accounts)
    aws_policy_count        = length(data.kion_project_cloud_access_role.aws_admin.aws_iam_policies)
    azure_role_count        = length(data.kion_project_cloud_access_role.aws_admin.azure_role_definitions)
    gcp_role_count          = length(data.kion_project_cloud_access_role.aws_admin.gcp_iam_roles)
  }
}

# Example showing account management details
locals {
  # Extract account IDs from the cloud access role
  account_ids = [for account in data.kion_project_cloud_access_role.aws_admin.accounts : account.id]
  
  # Extract policy IDs by cloud provider
  aws_policy_ids = [for policy in data.kion_project_cloud_access_role.aws_admin.aws_iam_policies : policy.id]
  azure_role_ids = [for role in data.kion_project_cloud_access_role.aws_admin.azure_role_definitions : role.id]
  gcp_role_ids = [for role in data.kion_project_cloud_access_role.aws_admin.gcp_iam_roles : role.id]
  
  # Extract user and group IDs
  user_ids = [for user in data.kion_project_cloud_access_role.aws_admin.users : user.id]
  user_group_ids = [for group in data.kion_project_cloud_access_role.aws_admin.user_groups : group.id]
}

output "associated_accounts" {
  value = local.account_ids
}

output "cloud_permissions_summary" {
  value = {
    aws_policies    = local.aws_policy_ids
    azure_roles     = local.azure_role_ids
    gcp_roles       = local.gcp_role_ids
    total_policies  = length(local.aws_policy_ids) + length(local.azure_role_ids) + length(local.gcp_role_ids)
  }
}

output "assigned_users_and_groups" {
  value = {
    users       = local.user_ids
    user_groups = local.user_group_ids
  }
}

# Multi-cloud role example
data "kion_project_cloud_access_role" "multi_cloud" {
  id = "15"
}

# Conditional output based on cloud providers used
output "multi_cloud_analysis" {
  value = {
    role_name = data.kion_project_cloud_access_role.multi_cloud.name
    has_aws   = length(data.kion_project_cloud_access_role.multi_cloud.aws_iam_policies) > 0
    has_azure = length(data.kion_project_cloud_access_role.multi_cloud.azure_role_definitions) > 0
    has_gcp   = length(data.kion_project_cloud_access_role.multi_cloud.gcp_iam_roles) > 0
    cloud_providers = compact([
      length(data.kion_project_cloud_access_role.multi_cloud.aws_iam_policies) > 0 ? "AWS" : "",
      length(data.kion_project_cloud_access_role.multi_cloud.azure_role_definitions) > 0 ? "Azure" : "",
      length(data.kion_project_cloud_access_role.multi_cloud.gcp_iam_roles) > 0 ? "GCP" : ""
    ])
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `id` (String) The ID of the project cloud access role to retrieve.

### Read-Only

- `accounts` (Set of Object) The accounts associated with this project cloud access role. (see [below for nested schema](#nestedatt--accounts))
- `apply_to_all_accounts` (Boolean) Whether this role applies to all accounts.
- `aws_iam_path` (String) The AWS IAM path for the role.
- `aws_iam_permissions_boundary` (Number) The AWS IAM permissions boundary ID.
- `aws_iam_policies` (Set of Object) The AWS IAM policies associated with this role. (see [below for nested schema](#nestedatt--aws_iam_policies))
- `aws_iam_role_name` (String) The AWS IAM role name.
- `azure_role_definitions` (Set of Object) The Azure role definitions associated with this role. (see [below for nested schema](#nestedatt--azure_role_definitions))
- `future_accounts` (Boolean) Whether this role applies to future accounts.
- `gcp_iam_roles` (Set of Object) The GCP IAM roles associated with this role. (see [below for nested schema](#nestedatt--gcp_iam_roles))
- `long_term_access_keys` (Boolean) Whether long-term access keys are enabled.
- `name` (String) The name of the project cloud access role.
- `project_id` (Number) The ID of the project this role belongs to.
- `short_term_access_keys` (Boolean) Whether short-term access keys are enabled.
- `user_groups` (Set of Object) The user groups associated with this role. (see [below for nested schema](#nestedatt--user_groups))
- `users` (Set of Object) The users associated with this role. (see [below for nested schema](#nestedatt--users))
- `web_access` (Boolean) Whether web access is enabled.

<a id="nestedatt--accounts"></a>
### Nested Schema for `accounts`

Read-Only:

- `id` (Number)


<a id="nestedatt--aws_iam_policies"></a>
### Nested Schema for `aws_iam_policies`

Read-Only:

- `id` (Number)


<a id="nestedatt--azure_role_definitions"></a>
### Nested Schema for `azure_role_definitions`

Read-Only:

- `id` (Number)


<a id="nestedatt--gcp_iam_roles"></a>
### Nested Schema for `gcp_iam_roles`

Read-Only:

- `id` (Number)


<a id="nestedatt--user_groups"></a>
### Nested Schema for `user_groups`

Read-Only:

- `id` (Number)


<a id="nestedatt--users"></a>
### Nested Schema for `users`

Read-Only:

- `id` (Number)
