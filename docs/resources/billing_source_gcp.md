---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "kion_billing_source_gcp Resource - terraform-provider-kion"
subcategory: ""
description: |-
  Creates and manages a GCP (Google Cloud Platform) billing source in Kion.
  GCP billing sources are used to import billing data from Google Cloud Platform projects into Kion for cost management and reporting purposes. The billing data is exported from BigQuery where Google Cloud exports billing information.
  WARNING: Updates to this resource use a private API endpoint that may change without notice. Use at your own risk.
---

# kion_billing_source_gcp (Resource)

Creates and manages a GCP (Google Cloud Platform) billing source in Kion.

GCP billing sources are used to import billing data from Google Cloud Platform projects into Kion for cost management and reporting purposes. The billing data is exported from BigQuery where Google Cloud exports billing information.

**WARNING**: Updates to this resource use a private API endpoint that may change without notice. Use at your own risk.

## Example Usage

```terraform
# Create a GCP billing source
# Note: You must first create a GCP service account through the Kion UI or API
# and obtain its ID to use in the service_account_id field
resource "kion_billing_source_gcp" "example" {
  name               = "My GCP Billing Account"
  service_account_id = 123                    # ID of the GCP service account created in Kion
  gcp_id             = "012345-ABCDEF-GHIJKL" # Your GCP billing account ID
  billing_start_date = "2024-01"

  # BigQuery export configuration - where GCP exports billing data
  big_query_export {
    gcp_project_id  = "my-billing-project"
    dataset_name    = "cloud_billing_export"
    table_name      = "gcp_billing_export_v1"
    table_format    = "standard"      # Options: auto, standard, detailed
    focus_view_name = "focus_view_v1" # Optional: Only if using FOCUS
  }

  # Optional: Configure billing data format preferences
  use_focus       = true  # Use FOCUS format for cost data
  use_proprietary = true  # Use GCP proprietary billing format
  is_reseller     = false # Set to true if this is a reseller billing account
}

# Example with minimal configuration
resource "kion_billing_source_gcp" "minimal" {
  name               = "Simple GCP Billing"
  service_account_id = 456 # ID of the GCP service account created in Kion
  gcp_id             = "987654-ZYXWVU-TSRQPO"
  billing_start_date = "2024-06"

  big_query_export {
    gcp_project_id = "billing-exports"
    dataset_name   = "billing_data"
    table_name     = "cost_export"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `big_query_export` (Block List, Min: 1, Max: 1) BigQuery export configuration for billing data. (see [below for nested schema](#nestedblock--big_query_export))
- `billing_start_date` (String) The start date for billing data collection in YYYY-MM format.
- `gcp_id` (String) The GCP ID of the billing account (e.g., '012345-678901-ABCDEF').
- `name` (String) The name of the GCP billing source.
- `service_account_id` (Number) The ID of the GCP service account used for authentication.

### Optional

- `account_type_id` (Number) The account type ID for the GCP billing source. Defaults to 15 (Google Cloud).
- `is_reseller` (Boolean) Denotes if the billing account is that of a Parent Reseller Billing Account.
- `use_focus` (Boolean) Use GCP FOCUS view for billing data.
- `use_proprietary` (Boolean) Use the GCP Proprietary Billing Table.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--big_query_export"></a>
### Nested Schema for `big_query_export`

Required:

- `dataset_name` (String) The name of the BigQuery dataset where the export lives.
- `gcp_project_id` (String) The ID of the GCP project where the BigQuery dataset lives.
- `table_name` (String) The name of the BigQuery table where the export lives.

Optional:

- `focus_view_name` (String) The name of the FOCUS view in BigQuery.
- `table_format` (String) The format of the BigQuery table where the export lives. One of 'auto', 'standard' or 'detailed'.
