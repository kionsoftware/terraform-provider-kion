---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "kion_aws_account Resource - terraform-provider-kion"
subcategory: ""
description: |-
  Creates or imports an AWS Account and adds it to a Kion project or the Kion account cache.
  If account_number is provided, an existing account will be imported into Kion, otherwise a new AWS account will be created.  If project_id is provided the account will be added to the corresponding project, otherwise the account will be added to the account cache.
  Once added, an account can be moved between projects or in and out of the account cache by changing the project_id.  When moving accounts between projects, use move_project_settings to control how financials will be treated between the old and new project.
  When importing existing Kion accounts into terraform state, you can use one of these methods:
  Default import (tries project first, then cache):
  terraform import kionawsaccount.example 123Explicit project account import:
  terraform import kionawsaccount.example account_id=123Explicit cache account import:
  terraform import kionawsaccount.example accountcacheid=123
  NOTE: This resource requires Kion v3.8.4 or greater.
---

# kion_aws_account (Resource)

Creates or imports an AWS Account and adds it to a Kion project or the Kion account cache.

If `account_number` is provided, an existing account will be imported into Kion, otherwise a new AWS account will be created.  If `project_id` is provided the account will be added to the corresponding project, otherwise the account will be added to the account cache.

Once added, an account can be moved between projects or in and out of the account cache by changing the `project_id`.  When moving accounts between projects, use `move_project_settings` to control how financials will be treated between the old and new project.

When importing existing Kion accounts into terraform state, you can use one of these methods:

1. Default import (tries project first, then cache):
    terraform import kion_aws_account.example 123

2. Explicit project account import:
    terraform import kion_aws_account.example account_id=123

3. Explicit cache account import:
    terraform import kion_aws_account.example account_cache_id=123

**NOTE:** This resource requires Kion v3.8.4 or greater.

## Example Usage

```terraform
# Create a new AWS account and place it in the account cache
resource "kion_aws_account" "test2" {
  name                    = "Terraform Created AWS Account - 2"
  payer_id                = 1
  commercial_account_name = "Test Account"
  create_govcloud         = false

  aws_organizational_unit {
    name        = "test name"
    org_unit_id = "123456"
  }
}

# Output the ID of the resource created.
output "kion_account_id" {
  value = kion_aws_account.test2.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the AWS account within Kion.
- `payer_id` (Number) The ID of the billing source containing billing data for this account.

### Optional

- `account_alias` (String) Account alias is an optional short unique name that helps identify the account within Kion.
- `account_number` (String) The account number of the AWS account.  If account_number is provided, the existing account will be imported into Kion.  If account_number is omitted, a new account will be created.
- `account_type_id` (Number) An ID representing the account type within Kion.
- `aws_organizational_unit` (Block Set, Max: 1) Where to place this account within AWS Organization when creating an account. (see [below for nested schema](#nestedblock--aws_organizational_unit))
- `commercial_account_name` (String) The name used when creating new commercial account.
- `create_govcloud` (Boolean) True to create an AWS GovCloud account.
- `email` (String) The root email address to associate with a new account.  Required when creating a new account unless an account placeholder email has been set.
- `gov_account_name` (String) The name used when creating new GovCloud account.
- `include_linked_account_spend` (Boolean) True to associate spend from a linked GovCloud account with this account.
- `labels` (Map of String) A map of labels to assign to the account. The labels must already exist in Kion.
- `last_updated` (String)
- `linked_role` (String) The AWS organization service role.
- `move_project_settings` (Block Set, Max: 1) Parameters used when moving an account between Kion projects.  These settings are ignored unless moving an account. (see [below for nested schema](#nestedblock--move_project_settings))
- `project_id` (Number) The ID of the Kion project to place this account within. If empty, the account will be placed within the account cache.
- `skip_access_checking` (Boolean) True to skip periodic access checking on the account.
- `start_datecode` (String) Date when the AWS account will starting submitting payments against a funding source (YYYY-MM). Required if placing an account within a project.
- `use_org_account_info` (Boolean) True to keep the account name and email address in Kion in sync with the account name and email address as set in AWS Organization.

### Read-Only

- `car_external_id` (String) The external ID used when assuming cloud access roles.
- `created_at` (String)
- `id` (String) The ID of this resource.
- `linked_account_number` (String) For AWS GovCloud accounts, this is the linked commercial account.  Otherwise this is empty.
- `location` (String) Where the account is attached. Either "project" or "cache".
- `service_external_id` (String) The external ID used for automated internal actions using the service role for this account.

<a id="nestedblock--aws_organizational_unit"></a>
### Nested Schema for `aws_organizational_unit`

Required:

- `name` (String) Name of the organizational unit in AWS.
- `org_unit_id` (String) OUID of the AWS Organization unit.


<a id="nestedblock--move_project_settings"></a>
### Nested Schema for `move_project_settings`

Optional:

- `financials` (String) One of "move" or "preserve".  If "move", financial history will be moved to the new project beginning on the date specified by the move_datecode parameter.  If "preserve", financial history will be preserved on the current project.
- `move_datecode` (Number) The start date to use when moving financial data in YYYYMM format.  This only applies when financials is set to move.  If provided, only financial data from this date to the current month will be moved to the new project.  If omitted or 0, all financial data will be moved to the new project.
